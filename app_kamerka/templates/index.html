<!DOCTYPE html>
<html lang="en">
{% load static %}
{% block page_content %}
    <head>        
        <!-- META SECTION -->
        <title>ꓘamerka</title>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <!-- END META SECTION -->
        
        <!-- CSS INCLUDE -->
        <script src="{% static 'js/d3.js' %}"></script>
        <script src="{% static 'js/d3.layout.cloud.js' %}" charset="UTF-8"></script>
        <script src="{% static 'js/d3.wordcloud.js' %}" charset="UTF-8"></script>
        <link rel="stylesheet" type="text/css" id="theme" href="{% static 'css/theme-default.css' %}"/>
        <!-- EOF CSS INCLUDE -->
    </head>
    <body>
        <!-- START PAGE CONTAINER -->
        <div class="page-container">
            
            <!-- START PAGE SIDEBAR -->
            <div class="page-sidebar">
                <!-- START X-NAVIGATION -->
                <ul class="x-navigation">
                    <li class="xn-logo">
                        <a href="/">ꓘamerka</a>
                        <a href="#" class="x-navigation-control"></a>
                    </li>
                    <li class="xn-profile">

                        <div class="profile">
                            <div class="profile-image">
                            </div>
                            <div class="profile-data">
                                  <img width=200px height=200px src="https://www.offensiveosint.io/content/images/2020/07/OffensiveOsint-logo-RGB-2.png">
                            </div>

                        </div>
                    </li>
                    <li class="xn-title">导航</li>
                    <li class="">
                        <a href="index"><span class="fa fa-desktop"></span> <span class="xn-text">仪表盘</span></a>
                    </li>
                    <li class="">
                        <a href="history"><span class="fa fa-files-o"></span> <span class="xn-text">历史</span></a>
                    </li>
                    <li class="">
                        <a href="map"><span class="fa fa-map-marker"></span> <span class="xn-text">地图</span></a>
                    </li>
                    <li class="">
                        <a href="devices"><span class="fa fa-search"></span> <span class="xn-text">搜索</span></a>
                    </li>
                    <li class="">
                        <a href="gallery"><span class="fa fa-camera"></span> <span class="xn-text">陈列</span></a>
                    </li>

                    <li class="xn-title">其他</li>

                    <li>
                        <a href="sources"><span class="fa fa-book"></span> <span class="xn-text">相关链接</span></a>
                    </li>                    

                    
                </ul>
                <!-- END X-NAVIGATION -->
            </div>
            <!-- END PAGE SIDEBAR -->
            
            <!-- PAGE CONTENT -->
            <div class="page-content">
                
                <!-- START X-NAVIGATION VERTICAL -->
                <ul class="x-navigation x-navigation-horizontal x-navigation-panel">
<center><h1 style="color:#0000ff; text-align:center">工业控制系统 & 物联网侦查</h1></center>
                </ul>
                <!-- END X-NAVIGATION VERTICAL -->                     

                <!-- START BREADCRUMB -->
                <ul class="breadcrumb">

                           <div class='progress-wrapper'>
                <div id='progress-bar' class='progress-bar' style="background-color: #0064d7; width: 0%;">&nbsp;</div>
                </div>
                <div id="progress-bar-message" style="color:#00fa9a">启动中...</div>
                </ul>
                <!-- END BREADCRUMB -->                       
                
                <!-- PAGE CONTENT WRAPPER -->
                <div class="page-content-wrap">
                    
                    <!-- START WIDGETS -->                    
                    <div class="row">
                        <div class="col-md-3">
                            
                            <!-- START WIDGET SLIDER -->
                            <div class="widget widget-default widget-carousel">
                                <div class="owl-carousel" id="owl-example">
                                    <div>
                                        <div class="widget-title">Shodan credits</div>
                                        <div class="widget-int"> {{ credits.0 }}</div>
                                    </div>
                                    <div>
                                        <div class="widget-title">BinaryEdge credits</div>
                                        <div class="widget-int">{{ credits.1 }}</div>
                                    </div>
                                </div>
                                <div class="widget-controls">
                                </div>
                            </div>
                            <!-- END WIDGET SLIDER -->

                        </div>
                        <div class="col-md-3">

                            <!-- START WIDGET MESSAGES -->
                            <div class="widget widget-default widget-item-icon">
                                <div class="widget-item-left">
                                    <span class="glyphicon glyphicon-eye-open"></span>
                                </div>
                                <div class="widget-data">
                                    <div class="widget-int num-count">{{ device.count }}</div>
                                    <div class="widget-title">设备</div>
                                </div>
                                <div class="widget-controls">
                                </div>
                            </div>
                            <!-- END WIDGET MESSAGES -->

                        </div>
                        <div class="col-md-3">

                            <div class="widget widget-default widget-item-icon">
                                <div class="widget-item-left">
                                    <span class="fa fa-search"></span>
                                </div>
                                <div class="widget-data">
                                    <div class="widget-int num-count">{{ search_len.count }}</div>
                                    <div class="widget-title">搜索次数</div>
                                </div>
                                <div class="widget-controls">
                                </div>
                            </div>

                        </div>
                        <div class="col-md-3">

                            <!-- START WIDGET CLOCK -->
                            <div class="widget widget-info widget-padding-sm">
                                <br>
                                <div class="widget-big-int plugin-clock">00:00</div>
                                <div class="widget-subtitle plugin-date">正在加载...</div>
                                <div class="widget-controls">
                                </div>

                            </div>
                            <!-- END WIDGET CLOCK -->

                        </div>
                    </div>
                    <!-- END WIDGETS -->
                    <div class="row">
                            <div class="col-md-4">

                                <div class="panel panel-default">
                                    <div class="panel-heading">
                                        <div class="panel-title-box">
                                            <h3>所有端口 </h3>
                                        </div>

                                    </div>
                                    <div class="panel-body padding-0" >
                                        <div class="chart-holder" id="dashboard-bar-1" style="height: 200px;background-color:#0a141d"></div>

                                </div>



                            </div>
                        </div>

                        <div class="col-md-4">

                            <div class="panel panel-default">
                                <div class="panel-heading">
                                    <div class="panel-title-box">
                                        <h3>类别</h3>
                                    </div>

                                </div>
                                <div class="panel-body padding-0">
                                    <div class="chart-holder" id="dashboard-donut-1" style="height: 200px; background-color:#0a141d"></div>
                                </div>
                            </div>

                        </div>


						<div class="col-md-4">

                            <div class="panel panel-default">
                                <div class="panel-heading">
                                    <div class="panel-title-box">
                                        <h3>搜索范围</h3>
                                    </div>

                                </div>
                                <div class="panel-body panel-body-table" style="background-color:#0a141d">

                                    <div class="table-responsive">
                                        <table class="table">

                                            <tbody>
                                                <tr>{% for object in search %}

                                                        <td><strong><a href="{% url 'results' id=object.id %}">{{object.country}} {{object.coordinates }}  {% if object.country == "NMAP Scan" %} {{object.ics}} {% endif %}</strong></td>
                                                </a>
                                                </tr>

                                                {% endfor %}


                                            </tbody>
                                        </table>
                                    </div>

                                </div>
                            </div>

                        </div>
                    </div>

                    <div class="row">
						<div class="col-md-8">

                            <div class="panel panel-default">
                                <div class="panel-heading">
                                    <div class="panel-title-box">
                                        <h3>全球覆盖率</h3>
                                    </div>


                                </div>
                                <div class="panel-body" style="background-color:#0a141d">

                                            <div id="dashboard-map-seles" style="width: 100%; height: 200px;"></div>
                                </div>
                            </div>

                        </div>


                        <div class="col-md-4">

                            <div class="panel panel-default">
                                <div class="panel-heading">
                                    <div class="panel-title-box">
                                        <h3>漏洞</h3>
                                    </div>

                                </div>
                                <div class="panel-body padding-0">
                                    <div id="wordcloud" class="chart-holder" id="dashboard-line-1" style="height:200px;overflow:hidden; background-color:#0a141d"></div>
                                </div>
                            </div>

                        </div>
                    </div>


                </div>
                <!-- END PAGE CONTENT WRAPPER -->
            </div>
            <!-- END PAGE CONTENT -->
        </div>

<script src="{% static 'js/d3.wordcloud.js' %}" charset="UTF-8"></script>
                <script src="{% static 'js/d3.layout.cloud.js' %}" charset="UTF-8"></script>

                <script type="text/javascript" src="{% static 'js/plugins/jquery/jquery.min.js' %}"></script>
        <script type="text/javascript" src="{% static 'js/plugins/jquery/jquery-ui.min.js' %}"></script>
        <script type="text/javascript" src="{% static 'js/plugins/bootstrap/bootstrap.min.js' %}"></script>
        <!-- END PLUGINS -->

        <!-- START THIS PAGE PLUGINS-->

        <script type="text/javascript" src="{% static 'js/plugins/morris/raphael-min.js' %}"></script>
        <script type="text/javascript" src="{% static 'js/plugins/morris/morris.min.js' %}"></script>

        <script type='text/javascript' src="{% static 'js/plugins/jvectormap/jquery-jvectormap-1.2.2.min.js' %}"></script>
        <script type='text/javascript' src="{% static 'js/plugins/jvectormap/jquery-jvectormap-world-mill-en.js' %}"></script>
        <script type="text/javascript" src="{% static 'js/plugins/owl/owl.carousel.min.js' %}"></script>

        <script type="text/javascript" src="{% static 'js/plugins.js' %}"></script>

        <script type="text/javascript" src="{% static 'js/index_charts.js' %}"></script>
        <script src="{% static 'celery_progress/celery_progress.js' %}"></script>
        <script>drawcharts({{ ics.count }}, {{ coordinates.count }}, {{ healthcare.count }}, {{ports|safe}}, {{ countries|safe }});</script>
        <script>
        {% if task_id %}

function customProgress(progressBarElement, progressBarMessageElement, progress) {
    progressBarMessageElement.innerHTML = (
      "about " + progress.percent + "% of the way through " + progress.total + ' custom thingies.'
    );
}
    var progressUrl = "{% url 'celery_progress:task_status' task_id %}";
  CeleryProgressBar.initProgressBar(progressUrl);
        {% endif %}
</script>
<script type="text/javascript">
      d3v3.wordcloud()
        .size([400, 200])
        .selector('#wordcloud')
        .words([{% for vuln, link in vulns %} {text: "{{  vuln }}", size: "12"}, {% endfor %}])
        .start();
    </script>



        <!-- END TEMPLATE -->
    <!-- END SCRIPTS -->         
    </body>
</html>

{% endblock %}





